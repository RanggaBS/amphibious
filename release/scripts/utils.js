export const getData=async()=>{const t=await fetch("../data.json"),e=await t.json();window.HOTSPOT_DATA=e};export const getTimeOfDay=()=>{const t=(new Date).getHours();let e;return e=t>=3&&t<10?"pagi":t>=10&&t<15?"siang":t>=15&&t<=17?"sore":"malam",e};export const formatRupiah=t=>t.toString().split("").reverse().join("").match(/\d{1,3}/g).join(".").split("").reverse().join("");export const createElementFromHTML=t=>{const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild};export const createPackageCard=(t,e,n,a,l)=>{const o=createElementFromHTML('<div class="card w-full h-full flex flex-col gap-3 justify-between"></div>'),r=createElementFromHTML("<div></div>");if(t){const t=createElementFromHTML('<span class="rounded-full bg-[#dc3545] text-white text-xs sm:text-sm font-medium px-3 py-2 mb-3 block w-max">Terlaris</span>');r.appendChild(t)}const i=createElementFromHTML('<p class="pb-1 text-slate-900 text-lg sm:text-xl font-semibold">Yang Bikin Mantul</p>');o.appendChild(i);const s=createElementFromHTML('<div class="flex text-blue-500"></div>'),c=createElementFromHTML(`<p class="text-3xl font-bold leading-none">${e}</p>`),d=createElementFromHTML('<div class="bg-blue-500 mx-3 w-[2px]"></div>'),m=createElementFromHTML(`<p class="flex items-end pb-1"><span class="text-base leading-none font-medium">${formatMasaAktif(n)}</span></p>`);s.appendChild(c),s.appendChild(d),s.appendChild(m);const p=createElementFromHTML(`<p class="text-slate-900 text-2xl font-semibold">Rp ${formatRupiah(a)}</p>`);r.appendChild(i),r.appendChild(s),r.appendChild(p),o.appendChild(r);const u=createElementFromHTML('<ul class="flex flex-col gap-2 text-slate-900 font-medium"></ul>');for(let t=0;t<=1;t++){const a=createElementFromHTML('<li class="flex gap-2"></li>'),l=createElementFromHTML('<svg\n\tversion="1.0"\n\txmlns="http://www.w3.org/2000/svg"\n\theight="16"\n\tviewBox="0 0 512.000000 512.000000"\n\tpreserveAspectRatio="xMidYMid meet"\n\tclass="h-4 min-[480px]:h-5 sm:h-6 fill-blue-500"\n\t>\n\t<g\n\ttransform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"\n\t\tstroke="none"\n\t>\n\t\t<path\n\t\t\td="M4605 4386 c-105 -33 -109 -36 -1445 -1372 l-1315 -1314 -595 595\nc-553 551 -600 596 -662 625 -159 74 -328 51 -454 -63 -100 -90 -149 -234\n-125 -364 25 -134 9 -117 839 -944 726 -724 771 -767 832 -794 78 -34 185 -44\n257 -25 122 33 70 -16 1629 1543 1614 1616 1522 1517 1547 1660 34 199 -91\n392 -292 453 -56 17 -162 17 -216 0z"\n/>\n\t</g>\n\t</svg>\n\t'),o=createElementFromHTML(`<p>${0===t?`Kuota ${e}`:"Untuk penggunaan"}</p>`),r=createElementFromHTML(`<span class="text-amber-500">${0===t?` ${formatMasaAktif(n)}`:" 1 perangkat"}</span>`);o.appendChild(r),a.appendChild(l),a.appendChild(o),u.appendChild(a)}o.appendChild(u);const h=createElementFromHTML(`<button data-micromodal-trigger="${l}" class="button button-primary">Beli Sekarang</button>`);return o.appendChild(h),o};export const createPackageCardWithoutButton=(t,e,n,a,l)=>{const o=createPackageCard(t,e,n,a,l);return o.querySelector("button").remove(),o};export const createPackageModal=(t,e,n)=>{const a=createElementFromHTML(`<div id="${t}" aria-hidden="true" class="modal-slide">\n\t\t<div tabindex="-1" data-micromodal-close class="modal__overlay w-full">\n\t\t\t<div\n\t\t\t\trole="dialog"\n\t\t\t\taria-modal="true"\n\t\t\t\taria-labelledBy="${t}-title"\n\t\t\t\tclass="modal__container w-full max-w-lg p-0 mx-4 flex flex-col overflow-hidden bg-neutral-200"\n\t\t\t>\n\t\t\t\t<div class="card flex flex-col overflow-hidden bg-neutral-200 p-4 min-[480px]:p-6 sm:p-8">\n\t\t\t\t\t<header class="modal__header border-b border-slate-600">\n\t\t\t\t\t\t<h2\n\t\t\t\t\t\t\tid="${t}-title"\n\t\t\t\t\t\t\tclass="modal__title text-lg min-[480px]:text-xl sm:text-2xl text-slate-900 font-bold"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDetail Voucher\n\t\t\t\t\t\t</h2>\n\t\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\taria-label="Close modal"\n\t\t\t\t\t\t\tdata-micromodal-close\n\t\t\t\t\t\t\tclass="modal__close"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\t\t\t\theight="24"\n\t\t\t\t\t\t\t\tclass="fill-black"\n\t\t\t\t\t\t\t\tviewBox="0 0 16 16"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</header>\n\t\n\t\t\t\t\t<main\n\t\t\t\t\t\tid="${t}-content"\n\t\t\t\t\t\tclass="modal__content m-0 py-2 overflow-y-auto"\n\t\t\t\t\t>\n\t\t\t\t\t\t\x3c!-- Package card - Above are added with JS --\x3e\n\t\n\t\t\t\t\t\t<form action="" method="post" class="py-4">\n\t\t\t\t\t\t\t<div class="mui-input-outline">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\tid="name"\n\t\t\t\t\t\t\t\t\tname="name"\n\t\t\t\t\t\t\t\t\tclass="mui-input-outline__input"\n\t\t\t\t\t\t\t\t\tvalue=""\n\t\t\t\t\t\t\t\t/>\n\t\n\t\t\t\t\t\t\t\t<label for="name" class="mui-input-outline__label"\n\t\t\t\t\t\t\t\t\t>Nama</label\n\t\t\t\t\t\t\t\t>\n\t\n\t\t\t\t\t\t\t\t<div class="mui-input-outline__bg">\n\t\t\t\t\t\t\t\t\t<span class="">Nama</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\n\t\t\t\t\t\t\t<button type="submit" class="button button-primary mt-4">\n\t\t\t\t\t\t\t\tBeli sekarang\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tdata-micromodal-close\n\t\t\t\t\t\t\taria-label="Close this dialog window"\n\t\t\t\t\t\t\tclass="button button-secondary"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</main>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n\t`);a.querySelector("main").prepend(e);const l=a.querySelector(".mui-input-outline__input");l.addEventListener("input",(t=>{t.target.setAttribute("value",t.target.value)}));return a.querySelector(".button-primary").addEventListener("click",(t=>{if(t.preventDefault(),l.value.length<=0)return alert("Isi namanya!");if(l.value.length<=2)return alert(`Isi yang benar!\nTidak ada orang yang namanya cuma ${l.value.length} huruf!`);if(!isValidName(l.value))return alert("Nama tidak valid!");const e=`*ORDER*: Voucher\n\n*Nama*: ${l.value}\n*Voucher*: ${HOTSPOT_DATA.packages[n].quota} | ${formatMasaAktif(HOTSPOT_DATA.packages[n].activePeriod)}\n*Harga*: ${rupiah(HOTSPOT_DATA.packages[n].price)}\n`;window.open(`https://wa.me/%2B628991799916/?text=${encodeURI(e)}`)})),a};export const isValidName=t=>/^(([A-Za-z]+[\-\']?)*([A-Za-z]+)?\s)+([A-Za-z]+[\-\']?)*([A-Za-z]+)?$/.test(t);export const rupiah=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t);export const randomIntBetween=(t,e)=>Math.floor(Math.random()*(e-t+1)+t);export const loadJS=(t,e)=>{const n=document.createElement("script");n.src=t,n.onload=e,n.onreadystatechange=e,document.body.appendChild(n)};export const formatMasaAktif=t=>{if("string"==typeof t&&t.includes("d"))return t.slice(0,-1)+" hari"};export const formatUnit=(t,e)=>{const n=t.match(/^([\d.]+)\s+(\w+)$/);if(!n)throw new Error("Format input tidak valid");const a=parseFloat(n[1]),l=n[2].toLowerCase(),o={kib:Math.pow(2,10),mib:Math.pow(2,20),gib:Math.pow(2,30)};if(!o.hasOwnProperty(l))throw new Error("Satuan tidak valid");const r=a*o[l];let i;switch(l){case"kib":i=r/1e4;break;case"mib":i=r/1e6;break;case"gib":i=r/1e7}return i=i.toFixed(e),`${i} ${l.charAt(0).toUpperCase()}B`};